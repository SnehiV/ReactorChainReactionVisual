{"version":3,"sources":["webpack:///webpack/bootstrap ed0f3466597a6f4cad15","webpack:///./lib/rcrv.js","webpack:///./lib/simulation.js","webpack:///./lib/neutron.js","webpack:///./lib/simulation_view.js"],"names":["document","addEventListener","canvas","getElementsByTagName","width","DIM_X","height","DIM_Y","core","getElementById","ctx","getContext","simulation","start","Simulation","neutrons","populateNeutrons","Math","random","i","push","pos","randomPos","speed","clearRect","fillStyle","BG_COLOR","fillRect","forEach","neutron","draw","timeDelta","move","moveNeutrons","FPS","Neutron","options","vel","randomVelocity","radius","color","deg","PI","sin","cos","beginPath","arc","fill","velocityScale","NORMAL_FRAME_TIME_DELTA","offsetX","offsetY","isOutOfBounds","randomWrap","side","floor","randomWrapVelocity","abs","SimulationView","lastTime","requestAnimationFrame","animate","bind","time","step"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ed0f3466597a6f4cad15\n **/","import Simulation from './simulation';\nimport SimulationView from './simulation_view';\n\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvas = document.getElementsByTagName(\"canvas\")[0];\n  canvas.width = Simulation.DIM_X;\n  canvas.height = Simulation.DIM_Y;\n  const core = document.getElementById(\"core\");\n\n  const ctx = canvas.getContext(\"2d\");\n  const simulation = new Simulation();\n  new SimulationView(simulation, ctx).start();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/rcrv.js\n **/","import Neutron from './neutron';\n\n\nclass Simulation {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.neutrons = [];\n    this.populateNeutrons();\n  }\n\n  randomPos(){\n    return [Math.random() * Simulation.DIM_X, Math.random() * Simulation.DIM_Y];\n  }\n\n  populateNeutrons() {\n    for (let i = 0; i < 100;   i++) {\n      this.neutrons.push(new Neutron(this, {pos: this.randomPos(), speed: 4}));\n    }\n  }\n\n  draw(ctx){\n    ctx.clearRect(0, 0, Simulation.DIM_X, Simulation.DIM_Y);\n    ctx.fillStyle = Simulation.BG_COLOR;\n    ctx.fillRect(0, 0, Simulation.DIM_X, Simulation.DIM_Y);\n\n    this.neutrons.forEach(neutron => neutron.draw(ctx));\n  }\n\n  moveNeutrons(timeDelta){\n    this.neutrons.forEach(neutron => neutron.move(timeDelta));\n  }\n\n  step(timeDelta){\n    this.moveNeutrons(timeDelta);\n  }\n\n  isOutOfBounds(pos){\n    return (pos[0] < 0 || pos[1] < 0) ||\n    (pos[0] > Simulation.DIM_X || pos[1] > Simulation.DIM_Y);\n  }\n\n}\n\n\n\n\n\nSimulation.BG_COLOR = \"#000000\";\nSimulation.DIM_X = 1000;\nSimulation.DIM_Y = 1000;\nSimulation.FPS = 32;\n\n\nexport default Simulation;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/simulation.js\n **/","import Simulation from './simulation';\n\nclass Neutron {\n  constructor(simulation, options){\n    this.simulation = simulation;\n    this.pos = options.pos;\n    this.speed = 4;\n    this.vel = this.randomVelocity();\n    this.radius = 2;\n    this.color = 'rgb(255, 255, 0)';\n  }\n\n  randomVelocity () {\n    let deg = 2 * Math.PI * Math.random();\n    return [Math.sin(deg) * this.speed, Math.cos(deg) * this.speed];\n  }\n\n  draw(ctx){\n    ctx.fillStyle = this.color;\n\n    ctx.beginPath();\n    ctx.arc(\n      this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n    );\n    ctx.fill();\n  }\n\n  move(timeDelta) {\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA;\n    let offsetX = this.vel[0] * velocityScale;\n    let offsetY = this.vel[1] * velocityScale;\n    let pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    if (this.simulation.isOutOfBounds(pos)){\n      this.randomWrap(pos);\n    } else {\n      this.pos = pos;\n    }\n  }\n\n  randomWrap(pos){\n    let side = Math.floor(Math.random() * 4);\n    if (side === 0) {\n      this.pos = [Math.random() * Simulation.DIM_X, 0];\n      this.vel = this.randomWrapVelocity(side);\n    } else if (side === 1) {\n      this.pos = [Simulation.DIM_X, Math.random() * Simulation.DIM_Y];\n      this.vel = this.randomWrapVelocity(side);\n    } else if (side === 2) {\n      this.pos = [Math.random() * Simulation.DIM_X, Simulation.DIM_Y];\n      this.vel = this.randomWrapVelocity(side);\n    } else if (side === 3) {\n      this.pos = [0, Math.random() * Simulation.DIM_Y];\n      this.vel = this.randomWrapVelocity(side);\n    }\n  }\n\n  randomWrapVelocity(side){\n    let deg = 2 * Math.PI * Math.random();\n    if (side === 0) {\n      return [Math.sin(deg) * this.speed, -(Math.cos(deg)) * this.speed];\n    } else if (side === 1) {\n      return [-(Math.sin(deg)) * this.speed, Math.cos(deg) * this.speed];\n    } else if (side === 2) {\n      return [Math.sin(deg) * this.speed, Math.abs(Math.cos(deg)) * this.speed];\n    } else if (side === 3) {\n      return [Math.abs(Math.sin(deg)) * this.speed,\n        Math.cos(deg) * this.speed];\n    }\n  }\n\n\n\n\n\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nexport default Neutron;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/neutron.js\n **/","\n\nclass SimulationView {\n  constructor(simulation, ctx){\n    this.ctx = ctx;\n    this.simulation = simulation;\n  }\n\n  start() {\n    this.lastTime = 0;\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.simulation.step(timeDelta);\n    this.simulation.draw(this.ctx);\n    this.lastTime = time;\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nexport default SimulationView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/simulation_view.js\n **/"],"sourceRoot":""}