{"version":3,"sources":["webpack:///webpack/bootstrap 8b2d5f5883ce1d3d6161","webpack:///./lib/rcrv.js","webpack:///./lib/simulation.js","webpack:///./lib/neutron.js","webpack:///./lib/util.js","webpack:///./lib/core.js","webpack:///./lib/simulation_view.js"],"names":["document","addEventListener","canvas","getElementsByTagName","width","DIM_X","height","DIM_Y","core","getElementById","ctx","getContext","View","modal","className","modalOff","onclick","e","preventDefault","start","ev","stop","Simulation","neutrons","initialNeutronCount","createCore","fissionCount","fissionsPerSecond","steadyPower","animationCount","powerLevel","pos","radius","speedInput","simulationSpeed","parseInt","value","disabled","steadyStateFPS","fpsAtSteadyState","i","push","randomPos","colorIndex","coreImage","clearRect","fillStyle","BG_COLOR","fillRect","color","draw","powerLevelPerFission","font","fillText","coreLength","drawImage","forEach","neutron","timeDelta","move","moveNeutrons","checkCollisions","index","splice","total","length","avgPowerLevel","window","alert","slice","idx","isCollidedWith","removeNeutron","Math","random","fissionProbability","generateNeutron","speed","systemRatio","FPS","Neutron","simulation","options","vel","randomVelocity","neutronColor","beginPath","arc","PI","fill","colors","velocityScale","NORMAL_FRAME_TIME_DELTA","offsetX","offsetY","isOutOfBounds","randomWrap","side","floor","randomWrapVelocity","centerDist","dist","Util","x","y","deg","sin","cos","abs","coreNeutronVelocity","pos1","pos2","sqrt","pow","Core","clearLength","neutronPostions","kValue","kValueInput","parseFloat","calculateFissionProbability","oldNeutron","newColorIndex","newPos","newVel","SimulationView","active","meltdown","alarm","Audio","lastTime","getKValue","getSpeed","populateNeutrons","requestAnimationFrame","animate","bind","time","step","checkMeltdown","setTimeout","currentTime","volume","play"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8b2d5f5883ce1d3d6161\n **/","import Simulation from './simulation';\nimport SimulationView from './simulation_view';\n\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvas = document.getElementsByTagName(\"canvas\")[0];\n  canvas.width = Simulation.DIM_X;\n  canvas.height = Simulation.DIM_Y;\n  const core = document.getElementById(\"core\");\n  const ctx = canvas.getContext(\"2d\");\n  // const simulation = new Simulation(ctx);\n  const View = new SimulationView(ctx, core);\n  const modal = document.getElementById(\"modal\");\n  modal.className = \"modal is-active\";\n  const modalOff = () => (\n    modal.className = \"modal\"\n  );\n\n  modal.onclick = () => {\n    modalOff();\n  };\n\n  document.getElementById(\"start\").onclick = (e) => {\n    e.preventDefault();\n    View.start();\n  };\n  document.getElementById(\"stop\").onclick = (ev) => {\n    ev.preventDefault();\n    View.stop();\n  };\n  //\n  // const graph = document.getElementById(\"graph\");\n  // ReactDOM.render\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/rcrv.js\n **/","import Neutron from './neutron';\nimport Core from './core';\nimport Util from './util';\n\nclass Simulation {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.neutrons = [];\n    // this.collisionSound = new Audio(\"ring.wav\");\n    // this.simulationSpeed = 2;\n    this.initialNeutronCount = 100;\n    this.createCore();\n    this.fissionCount = 0;\n    this.fissionsPerSecond = 0;\n    this.steadyPower = 3000;\n    this.animationCount = 0;\n    this.powerLevel = [];\n  }\n\n  createCore() {\n    this.core = new Core(this, {pos: [(Simulation.DIM_X / 2), (Simulation.DIM_Y / 2)], radius: 70});\n  }\n\n  getSpeed() {\n    let speedInput = document.getElementById('speed');\n    this.simulationSpeed = parseInt(speedInput.value);\n    speedInput.disabled = true;\n    this.steadyStateFPS = this.fpsAtSteadyState(this.simulationSpeed);\n  }\n\n  populateNeutrons() {\n    for (let i = 0; i < this.initialNeutronCount;   i++) {\n      this.neutrons.push(new Neutron(this,\n        {pos: Util.randomPos(Simulation.DIM_X, Simulation.DIM_Y),\n         colorIndex: 0}));\n    }\n  }\n\n\n  draw(ctx, coreImage){\n    ctx.clearRect(0, 0, Simulation.DIM_X, Simulation.DIM_Y);\n    ctx.fillStyle = Simulation.BG_COLOR;\n    ctx.fillRect(0, 0, Simulation.DIM_X, Simulation.DIM_Y);\n\n    this.core.color = 'white';\n    this.core.draw(ctx);\n    //\n    if (this.animationCount % 60 === 0){\n      this.fissionsPerSecond = this.fissionCount;\n      this.fissionCount = 0;\n    }\n\n    // let total = 0;\n    // for (var i = 0; i < this.fissionsPerSecond.length; i++) {\n    //   total += this.fissionsPerSecond[i];\n    // }\n    // let avg = total / this.fissionsPerSecond.length;\n    //If steady power is around 3000 MW for a PWR, using 100 initial neutrons at\n    // k = 1, the average fission per second = 5.\n    let powerLevel = (this.fissionsPerSecond) * this.powerLevelPerFission(this.steadyStateFPS);\n    this.powerLevel.push(powerLevel);\n    // if (powerLevel > 10000) {\n    //   this.checkMeltdown();\n    // }\n    ctx.font = \"32px serif\";\n    ctx.fillStyle = 'white';\n    ctx.fillText(`${powerLevel} MW`, 100, 100);\n\n    let coreLength = 140;\n    ctx.drawImage(coreImage, ((Simulation.DIM_X/ 2) - (coreLength/ 2)),\n    ((Simulation.DIM_Y/ 2) - (coreLength/ 2)), coreLength, coreLength);\n\n    this.neutrons.forEach(neutron => neutron.draw(ctx));\n    this.animationCount += 1;\n  }\n\n  moveNeutrons(timeDelta){\n    this.neutrons.forEach(neutron => neutron.move(timeDelta));\n  }\n\n  step(timeDelta){\n    this.moveNeutrons(timeDelta);\n    this.checkCollisions();\n  }\n\n  isOutOfBounds(pos){\n    return (pos[0] < 0 || pos[1] < 0) ||\n    (pos[0] > Simulation.DIM_X || pos[1] > Simulation.DIM_Y);\n  }\n\n  removeNeutron(index){\n    this.neutrons.splice(index, 1);\n  }\n\n  checkMeltdown() {\n    let total = 0;\n    for (var i = 0; i < this.powerLevel.length; i++) {\n      total += this.powerLevel[i];\n    }\n    let avgPowerLevel = total / this.powerLevel.length;\n    if (avgPowerLevel > 7500) {\n      window.alert(\"MELTDOWN MELTDOWN MELTDOWN: PLEASE EVACUATE\");\n    }\n  }\n\n\n  checkCollisions() {\n    if (this.animationCount % 120 === 0) {\n    }\n    let neutrons = this.neutrons.slice(0);\n    window.neutrons = this.neutrons;\n    neutrons.forEach((neutron, idx) => {\n      if (neutron.isCollidedWith(this.core)) {\n        this.fissionCount += 1;\n        this.removeNeutron(idx);\n        if (Math.random() <= this.core.fissionProbability) {\n          this.neutrons.push(this.core.generateNeutron(neutron));\n          this.neutrons.push(this.core.generateNeutron(neutron));\n        }\n      }\n    });\n  }\n\n  fpsAtSteadyState(speed) {\n  //If steady power is around 3000 MW for a PWR, using 100 initial neutrons at\n  // k = 1, the average fission per second = 5 at speed = 2.\n  let systemRatio = 5/2;\n  return systemRatio * speed;\n  }\n\n  powerLevelPerFission(fpsAtSteadyState){\n    return this.steadyPower / fpsAtSteadyState;\n  }\n\n\n\n}\n\n\n\nSimulation.BG_COLOR = \"#000000\";\nSimulation.DIM_X = 750;\nSimulation.DIM_Y = 500;\nSimulation.FPS = 32;\n\n\nexport default Simulation;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/simulation.js\n **/","import Simulation from './simulation';\nimport Util from './util';\n\nclass Neutron {\n  constructor(simulation, options){\n    this.simulation = simulation;\n    this.pos = options.pos;\n    this.speed = this.simulation.simulationSpeed;\n    this.vel = options.vel || Util.randomVelocity(this.speed);\n    this.radius = options.radius || 2;\n    this.colorIndex = options.colorIndex;\n    this.color = this.neutronColor(this.colorIndex);\n  }\n\n  draw(ctx){\n    ctx.fillStyle = this.color;\n\n    ctx.beginPath();\n    ctx.arc(\n      this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n    );\n    ctx.fill();\n  }\n\n  neutronColor(colorIndex) {\n    const colors = [\"red\", \"yellow\", \"orange\", \"green\", \"blue\", \"purple\", \"pink\"];\n    return colors[colorIndex];\n  }\n\n  move(timeDelta) {\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA;\n    let offsetX = this.vel[0] * velocityScale;\n    let offsetY = this.vel[1] * velocityScale;\n    let pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    if (this.simulation.isOutOfBounds(pos)){\n      this.randomWrap(pos);\n    } else {\n      this.pos = pos;\n    }\n  }\n\n  randomWrap(pos){\n    let side = Math.floor(Math.random() * 4);\n    if (side === 0) {\n      this.pos = [Math.random() * Simulation.DIM_X, 0];\n      this.vel = Util.randomWrapVelocity(side, this.speed);\n    } else if (side === 1) {\n      this.pos = [Simulation.DIM_X, Math.random() * Simulation.DIM_Y];\n      this.vel = Util.randomWrapVelocity(side, this.speed);\n    } else if (side === 2) {\n      this.pos = [Math.random() * Simulation.DIM_X, Simulation.DIM_Y];\n      this.vel = Util.randomWrapVelocity(side, this.speed);\n    } else if (side === 3) {\n      this.pos = [0, Math.random() * Simulation.DIM_Y];\n      this.vel = Util.randomWrapVelocity(side, this.speed);\n    }\n  }\n\n  isCollidedWith(core) {\n    const centerDist = Util.dist(this.pos, core.pos);\n    return centerDist < (this.radius + core.radius);\n  }\n\n\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nexport default Neutron;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/neutron.js\n **/","\n\nconst Util = {\n\n  randomPos(x, y){\n    return [Math.random() * x, Math.random() * y];\n  },\n\n  randomVelocity (speed) {\n    let deg = 2 * Math.PI * Math.random();\n    return [Math.sin(deg) * speed, Math.cos(deg) * speed];\n  },\n\n  randomWrapVelocity(side, speed) {\n    let deg = 2 * Math.PI * Math.random();\n    if (side === 0) {\n      return [Math.sin(deg) * speed, Math.cos(deg) * speed];\n    } else if (side === 1) {\n      return [-(Math.sin(deg)) * speed, Math.cos(deg) * speed];\n    } else if (side === 2) {\n      return [Math.abs(Math.sin(deg)) * speed, Math.cos(deg) * speed];\n    } else if (side === 3) {\n      return [Math.abs(Math.sin(deg)) * speed,\n        Math.cos(deg) * speed];\n    }\n  },\n\n  coreNeutronVelocity(side, speed) {\n    let deg = Math.PI * Math.random();\n    if (side === 0) {\n      return [Math.cos(deg) * speed, -(Math.sin(deg)) * speed];\n    } else if (side === 1) {\n      return [Math.abs(Math.cos(deg)) * speed, Math.sin(deg) * speed];\n    } else if (side === 2) {\n      return [Math.abs(Math.cos(deg)) * speed, Math.abs(Math.sin(deg)) * speed];\n    } else if (side === 3) {\n      return [-(Math.cos(deg)) * speed, Math.sin(deg) * speed];\n    }\n  },\n\n  dist(pos1, pos2) {\n    return Math.sqrt(Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2));\n  }\n};\n\nexport default Util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/util.js\n **/","import Neutron from './neutron';\nimport Util from './util';\n\nclass Core extends Neutron {\n  constructor(simulation, options){\n    super(simulation, options);\n      // this.simulation = simulation;\n      // this.pos = options.pos;\n      this.speed = 0;\n      this.vel = [0, 0];\n      // this.radius = options.radius;\n      this.color = \"white\";\n      this.clearLength = this.radius + 15;\n      this.neutronPostions = [\n        [this.pos[0], (this.pos[1] - this.clearLength)],\n        [(this.pos[0] + this.clearLength), this.pos[1]],\n        [this.pos[0], (this.pos[1] + this.clearLength)],\n        [(this.pos[0] - this.clearLength), this.pos[1]]\n      ];\n      this.kValue = 1.0;\n  }\n\n  getKValue(e){\n    let kValueInput = (document.getElementById(\"kvalue\"));\n    this.kValue = parseFloat(kValueInput.value);\n    kValueInput.disabled = true;\n    this.fissionProbability = this.calculateFissionProbability();\n\n  }\n\n  calculateFissionProbability() {\n    return ((this.simulation.initialNeutronCount * this.kValue) /\n     (this.simulation.initialNeutronCount * 2));\n  }\n\n\n  draw(ctx){\n    ctx.fillStyle = this.color;\n\n    ctx.beginPath();\n    ctx.arc(\n      this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n    );\n    ctx.fill();\n  }\n\n  generateNeutron(oldNeutron) {\n    let newColorIndex;\n    if ((oldNeutron.colorIndex + 1) > 6) {\n      newColorIndex = 0;\n    } else {\n      newColorIndex = oldNeutron.colorIndex + 1;\n    }\n    let side = Math.floor(Math.random() * 4);\n    let newPos = this.neutronPostions[side];\n    let newVel = Util.coreNeutronVelocity(side, oldNeutron.speed);\n\n    return new Neutron(this.simulation, {pos: newPos, vel: newVel, colorIndex: newColorIndex});\n  }\n}\n\n\n\n\nexport default Core;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/core.js\n **/","import Simulation from './simulation';\n\nclass SimulationView {\n  constructor(ctx, coreImage){\n    this.ctx = ctx;\n    this.coreImage = coreImage;\n    this.active = true;\n    this.meltdown = false;\n    this.alarm = new Audio(\"assets/nuclear_alarm.mp3\");\n  }\n\n  start() {\n    const ctx = this.ctx;\n    this.simulation = new Simulation(ctx);\n    this.active = true;\n    this.lastTime = 0;\n    this.simulation.core.getKValue();\n    this.simulation.getSpeed();\n    this.simulation.populateNeutrons();\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.simulation.step(timeDelta);\n    this.simulation.draw(this.ctx, this.coreImage);\n    this.lastTime = time;\n    this.checkMeltdown();\n    if (this.active) {\n      requestAnimationFrame(this.animate.bind(this));\n    }\n  }\n\n  stop() {\n    this.active = false;\n    let canvas = document.getElementsByTagName(\"canvas\")[0];\n    window.setTimeout(() => (this.ctx.clearRect(0, 0, canvas.width, canvas.height)), 7000);\n    document.getElementById(\"kvalue\").disabled = false;\n    document.getElementById(\"speed\").disabled = false;\n    if (this.simulation.neutrons) {\n      this.simulation.neutrons = [];\n    }\n  }\n\n  checkMeltdown() {\n    let total = 0;\n    for (var i = 0; i < this.simulation.powerLevel.length; i++) {\n      total += this.simulation.powerLevel[i];\n    }\n    let avgPowerLevel = total / this.simulation.powerLevel.length;\n    if (avgPowerLevel > 10000) {\n        this.alarm.currentTime=14;\n        this.alarm.volume = 0.2;\n        this.alarm.play();\n        this.ctx.font = \"bold 48px serif\";\n        this.ctx.fillStyle = 'red';\n        this.ctx.fillText('MELTDOWN', 200, 400);\n      this.stop();\n    }\n  }\n}\n\nexport default SimulationView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/simulation_view.js\n **/"],"sourceRoot":""}